<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
<id>distribution</id>
<formats>
    <format>tar.gz</format>
</formats>
<files>
    <file>
        <source>conf/catalina.properties</source>
        <outputDirectory>/conf</outputDirectory>
        <destName>catalina.properties</destName>
    </file>
    <file>
        <source>conf/repository-mysql.xml</source>
        <outputDirectory>/conf</outputDirectory>
        <destName>repository.xml</destName>
    </file>
    <file>
        <source>conf/docker-mysql-context.xml</source>
        <outputDirectory>/conf</outputDirectory>
        <destName>context.xml</destName>
    </file>
</files>
    <dependencySets>
        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>/common/lib</outputDirectory>
            <scope>provided</scope>
            <includes>
                <include>javax.jcr:jcr</include>
                <include>org.apache.geronimo.specs:geronimo-jta_1.1_spec</include>
                <include>javax.mail:mail</include>
                <include>mysql:mysql-connector-java</include>
            </includes>
        </dependencySet>
    </dependencySets>
    <includeBaseDirectory>false</includeBaseDirectory>
    <componentDescriptors>
        <componentDescriptor>conf-component.xml</componentDescriptor>
        <componentDescriptor>webapps-component.xml</componentDescriptor>
        <componentDescriptor>common-lib-component.xml</componentDescriptor>
        <componentDescriptor>shared-lib-component.xml</componentDescriptor>
        <componentDescriptor>shared-lib-development-data-component.xml</componentDescriptor>
    </componentDescriptors>
</assembly>
